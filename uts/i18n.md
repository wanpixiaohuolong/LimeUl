# LimeI18n 国际化

## 介绍

参考 vue-i18n 实现的 UTS 国际化插件。多语言切换、文本格式化（具名/列表/链接插值、修饰符）、复数 $tc、日期时间 $d、数字 $n。日期/数字格式化依赖 Intl，APP 不支持。可用 uni.getStorageSync('uVueI18nLocale') 持久化语言。

**依赖：** 无

## 使用

```js
import { createI18n } from '@/uni_modules/lime-i18n'

const i18n = createI18n({
  locale: 'zh-CN',
  fallbackLocale: 'en-US',
  messages: { 'zh-CN': zhCN, 'en-US': enUS },
  datetimeFormats,
  numberFormats,
  modifiers: { snakeCase: (str) => str.split(' ').join('_') },
  pluralizationRules: { ru: customRule }
})
// main 中 app.use(i18n)
```

模板：`{{ $t('page.title') }}`、`{{ $t('message.hello', { msg: 'hello' }) }}`、`{{ $tc('car', 2) }}`、`{{ $d(new Date(), 'short') }}`、`{{ $n(10000, 'currency') }}`。  
代码：`i18n.global.t()`、`this.$t()`、`instance.proxy.$t()`；切换语言 `i18n.global.locale.value = 'en-US'` 或 `this.$locale.value = 'en-US'`。  
延迟加载：`i18n.global.setLocaleMessage('zh-CN', zhCN)`。

## API

setLocaleMessage、getLocaleMessage、mergeLocaleMessage；setDateTimeFormat、getDateTimeFormat、mergeDateTimeFormat；setNumberFormat、getNumberFormat、mergeNumberFormat；setTabBar、getTabBar。

## 插件入口

`lime-i18n`：createI18n
